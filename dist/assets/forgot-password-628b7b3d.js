import{v as f,r as n,j as e,B as y,a3 as v,o as C,S as l,a4 as w,T as h,I as E,L as I,W as L}from"./index-4e38e7f6.js";import{u as S,L as F,a as k}from"./LoadingButton-146dc5b6.js";import{C as B}from"./Card-a35496b4.js";import{I as T,T as P}from"./TextField-4c1ff6ec.js";import"./Menu-d4f92679.js";function R(){const x=f(),r=S(),[s,p]=n.useState(""),[g,o]=n.useState(!1),[d,i]=n.useState(null),j=async t=>{var u,m;t.preventDefault();const b="https://api.yawaapp.com.ng/api/admin/auth/login";o(!0),i(null);try{const a=await k.post(b,{email:s},{headers:{"Content-Type":"application/json"}});o(!1),a.status===200?r.push("/dashboard"):i(a.data.message||"Login failed")}catch(a){o(!1),i(((m=(u=a.response)==null?void 0:u.data)==null?void 0:m.message)||"Invalid Credentials")}},c=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);return e.jsx(y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",...v({color:C(x.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})},children:e.jsxs(l,{sx:{width:"45%",height:"104%",p:5,alignItems:"center",justifyContent:"center"},children:[e.jsx(w,{sx:{mb:6}}),e.jsx(h,{variant:"h4",style:{marginBottom:30,textAlign:"center"},children:"Forgot Password?"}),e.jsx(B,{sx:{p:4,width:"100%",maxWidth:659,borderRadius:1,boxSizing:"border-box"},children:e.jsxs("form",{onSubmit:j,children:[e.jsxs(l,{spacing:2,sx:{display:"grid",width:"100%"},children:[e.jsx(T,{htmlFor:"email",children:"Email"}),e.jsx(P,{id:"email",name:"email",value:s,onChange:t=>p(t.target.value),error:!!s&&!c(s),helperText:s&&!c(s)?"Enter a valid email":"",placeholder:"Enter your email address",inputProps:{"aria-label":"Email"},fullWidth:!0,size:"small",sx:{"& .MuiInputBase-root":{boxSizing:"border-box"},py:0}})]}),d&&e.jsx(h,{color:"error",sx:{mb:3},children:d}),e.jsx(F,{fullWidth:!0,type:"submit",variant:"contained",size:"medium",sx:{mt:5,py:1,backgroundColor:"#03BDE9",color:"#FFF","&:hover":{backgroundColor:"#02A8D1"},boxSizing:"border-box"},loading:g,children:"Reset Password"})]})}),e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"center",sx:{my:3},children:[e.jsx(E,{onClick:()=>r.push("/login"),children:e.jsx("img",{src:"assets/icons/Feather_Icons.svg",alt:""})}),e.jsx(I,{variant:"subtitle2",underline:"hover",onClick:()=>r.push("/login"),sx:{color:"#204D88"},children:"Return to Log in"})]})]})})}function V(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{children:e.jsx("title",{children:" Password Reset "})}),e.jsx(R,{})]})}export{V as default};
