import{v as L,r as t,j as e,B as E,a3 as k,o as B,S as l,a4 as F,T as m,Y as P,I as z,e as T,L as W,W as A}from"./index-4e38e7f6.js";import{u as R,L as D,a as M}from"./LoadingButton-146dc5b6.js";import{C as U}from"./Card-a35496b4.js";import{I as h,T as x}from"./TextField-4c1ff6ec.js";import{C as V}from"./Checkbox-827373da.js";import"./Menu-d4f92679.js";function G(){const g=L(),b=R(),[r,f]=t.useState(!1),[a,j]=t.useState(""),[d,y]=t.useState(""),[w,n]=t.useState(!1),[c,i]=t.useState(null),v=async s=>{var u,p;s.preventDefault();const I="https://api.yawaapp.com.ng/api/admin/auth/login";n(!0),i(null);try{const o=await M.post(I,{email:a,password:d},{headers:{"Content-Type":"application/json"}});n(!1),o.status===200?b.push("/dashboard"):i(o.data.message||"Login failed")}catch(o){n(!1),i(((p=(u=o.response)==null?void 0:u.data)==null?void 0:p.message)||"Invalid Credentials")}},C=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),S={inputProps:{"aria-label":"Checkbox demo"}};return e.jsx(E,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",...k({color:B(g.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})},children:e.jsxs(l,{sx:{width:"45%",height:"104%",p:5,alignItems:"center",justifyContent:"center"},children:[e.jsx(F,{sx:{mb:6}}),e.jsx(m,{variant:"h4",style:{marginBottom:30,textAlign:"center"},children:"Log in to your account"}),e.jsx(U,{sx:{p:4,width:"100%",maxWidth:659,borderRadius:1,boxSizing:"border-box"},children:e.jsxs("form",{onSubmit:v,children:[e.jsxs(l,{spacing:2,sx:{display:"grid",width:"100%"},children:[e.jsx(h,{htmlFor:"email",children:"Email"}),e.jsx(x,{id:"email",name:"email",value:a,onChange:s=>j(s.target.value),error:!!a&&!C(a),placeholder:"Enter your email address",inputProps:{"aria-label":"Email"},fullWidth:!0,size:"small",sx:{"& .MuiInputBase-root":{boxSizing:"border-box"},py:0}}),e.jsx(h,{htmlFor:"password",children:"Password"}),e.jsx(x,{id:"password",name:"password",type:r?"text":"password",value:d,onChange:s=>y(s.target.value),placeholder:"Enter your password",InputProps:{endAdornment:e.jsx(P,{position:"end",children:e.jsx(z,{onClick:()=>f(!r),edge:"end",children:e.jsx(T,{icon:r?"eva:eye-fill":"eva:eye-off-fill"})})})},fullWidth:!0,size:"small",sx:{"& .MuiInputBase-root":{boxSizing:"border-box"}}})]}),e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{my:3},children:[e.jsxs("span",{children:[e.jsx(V,{...S})," Remember me"]}),e.jsx(W,{variant:"subtitle2",underline:"hover",href:"/forgot-password",children:"Forgot password?"})]}),c&&e.jsx(m,{color:"error",sx:{mb:3},children:c}),e.jsx(D,{fullWidth:!0,type:"submit",variant:"contained",size:"medium",sx:{py:1,backgroundColor:"#03BDE9",color:"#FFF","&:hover":{backgroundColor:"#02A8D1"},boxSizing:"border-box"},loading:w,children:"Log in"})]})})]})})}function K(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:e.jsx("title",{children:" Login "})}),e.jsx(G,{})]})}export{K as default};
